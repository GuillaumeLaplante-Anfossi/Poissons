% !TEX root = ../Poissons.tex

\section{Combinatorics}

\subsection{Combinatorics of generically translated copies of the braid arrangement}
\label{sec:kBraidArrangement}

\subsubsection{Recollection on hyperplane arrangements}
\label{subsec:arrangements}

We first briefly recall classical results on the combinatorics of affine hyperplane arrangements, in particular the enumerative connection between their intersection posets and their face lattices due to T.~Zaslavsky~\cite{Zaslavsky}.

\begin{definition}
A (finite affine real) \defn{hyperplane arrangement} is a finite set~$\arrangement$ of affine hyperplanes in~$\R^d$.
\end{definition}

\begin{definition}
A \defn{region} of~$\arrangement$ is a connected component of~$\R^d \ssm \bigcup_{H \in \arrangement} H$.
A \defn{face} of~$\arrangement$ is the intersection of the closure of a region of~$\arrangement$ with an hyperplane of~$\arrangement$.
The \defn{face poset} of~$\arrangement$ is the poset~$\facePoset$ of faces of~$\arrangement$ ordered by inclusion.
The \defn{$f$-polynomial}~$\fPol$ and \defn{$b$-polynomial}~$\bPol$ of~$\arrangement$ are the polynomial
\[
\fPol \eqdef \sum_{k = 0}^d f_k(\arrangement) \, x^k
\qquad\text{and}\qquad
\bPol \eqdef \sum_{k = 0}^d b_k(\arrangement) \, x^k
\]
where~$f_k(\arrangement)$ denotes the number of $k$-dimensional faces of~$\arrangement$, while~$b_k(\arrangement)$ denotes the number of bounded $k$-dimensional faces of~$\arrangement$.
\end{definition}

\begin{definition}
A \defn{flat} of~$\arrangement$ is a non-empty affine subspace of~$\R^d$ that can be obtained as the intersection of some hyperplanes of~$\arrangement$.
The \defn{flat poset} of~$\arrangement$ is poset~$\flatPoset$ of flats of~$\arrangement$ ordered by reverse inclusion.
\end{definition}

\begin{definition}
%The \defn{characteristic polynomial}~$\chi_{\arrangement}(y)$ and the \defn{M\"obius polynomial}~$\mu_{\arrangement}(x,y)$ are the polynomials respectively defined by
%\[
%\charPol \eqdef \sum_{G \in \flatPoset} \mu_{\flatPoset}(\R^d, G) \, y^{\dim(G)}
%\quad\text{and}\quad
%\mobPol \eqdef \sum_{F \le G \in \flatPoset} \mu_{\flatPoset}(F,G) \, x^{\dim(F)} \, y^{\dim(G)}
%\]
The \defn{M\"obius polynomial}~$\mu_{\arrangement}(x,y)$ is the polynomial defined by
\[
\mobPol \eqdef \sum_{F \le G} \mu_{\flatPoset}(F,G) \, x^{\dim(F)} \, y^{\dim(G)},
\]
where~$F \le G$ ranges over all intervals of the flat poset~$\flatPoset$, and~$\mu_{\flatPoset}(F,G)$ denotes the \defn{M\"obius function} on the flat poset~$\flatPoset$ defined as usual by
\[
\mu_{\flatPoset}(F, F) = 1
\qquad\text{and}\qquad
\sum_{F \le G \le H} \mu_{\flatPoset}(F,G) = 0
\]
for all~$F, G, H \in \flatPoset$.
\vincent{Characteristic polynomial = coefficient of~$x^d$ in~$\mobPol$.}
\vincent{Whitney-number polynomial.}
\vincent{Note that this is not exactly the M\"obius polynomial defined by Zaslavsky. I decided to take the dimension instead of the codimension. This explains the unusual absence of $(-1)^{\rank}$ below.}
\end{definition}

\begin{theorem}[{\cite[Thm.~A]{Zaslavsky}}]
\label{thm:Zaslavsky}
The $f$-polynomial, the $b$-polynomial, and the M\"obius polynomial of an arrangement~$\arrangement$ are related by
\[
\fPol = \mobPol[\arrangement][-x][-1]
\qquad\text{and}\qquad
\bPol = \mobPol[\arrangement][-x][1].
\]
\end{theorem}

\vincent{Whitney's theorem?}

\begin{example}
For the arrangement~$\arrangement$ of $5$ hyperplanes of \cref{fig:arrangement}, we have
\[
\mobPol = x^2y^2 - 5x^2y + 6x^2 + 5xy - 10x + 4
\]
so that
\begin{align*}
\fPol & = \mobPol[\arrangement][-x][-1] = 12 \, x^2 + 15 \, x + 4 \\
\text{and}\qquad
\bPol & = \mobPol[\arrangement][-x][1] = 2 \, x^2 + 5 \, x + 4.
\end{align*}
%
\begin{figure}
%	\begin{overpic}[scale=.9]{intersectionPoset}
%		\put(72.5, -2){$1$}
%		\put(51, 10){$-1$}
%		\put(61, 10){$-1$}
%		\put(71, 10){$-1$}
%		\put(82, 10){$-1$}
%		\put(94, 10){$-1$}
%		\put(51.5, 32){$2$}
%		\put(66, 32){$1$}
%		\put(80, 32){$1$}
%		\put(93.5, 32){$2$}
%	\end{overpic}
%	\caption{A hyperplane arrangement (left) and its intersection poset with its M\"obius function (right).}
	\includegraphics[scale=.9]{intersectionPoset}
	\caption{A hyperplane arrangement (left) and its intersection poset (right).}
	\label{fig:arrangement}
\end{figure}
\end{example}

\subsubsection{The $(\ell,n)$-braid arrrangement}
\label{subsec:lnBraidArrangement}

We now focus on the following specific hyperplane arrangements, illustrated in \cref{fig:lBraidArrangements}, and whose face numbers are given in \cref{table:fvectorlBraidArrangements}.

\begin{figure}
	\centerline{
	\begin{tabular}{c@{\hspace{.7cm}}c@{\hspace{.7cm}}c@{\hspace{.7cm}}c}
		\includegraphics[scale=.4]{lBraidArrangement1}
		&
		\includegraphics[scale=.4]{lBraidArrangement2}
		&
		\includegraphics[scale=.4]{lBraidArrangement3}
		&
		\includegraphics[scale=.4]{lBraidArrangement4}
		\\
		$\ell = 1$ & $\ell = 2$ & $\ell = 3$ & $\ell = 4$
	\end{tabular}
	}
	\caption{The $(\ell,3)$-braid arrangements for~$\ell \in [4]$.}
	\label{fig:lBraidArrangements}
\end{figure}

\begin{table}
\centerline{
	\begin{tabular}{c@{\hspace{.7cm}}c@{\hspace{.7cm}}c@{\hspace{.7cm}}c}
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $2$ & $1$ &&& $3$ \\
			$3$ & $6$ & $6$ & $1$ && $13$ \\
			$4$ & $24$ & $36$ & $14$ & $1$ & $75$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $3$ & $2$ &&& $5$ \\
			$3$ & $17$ & $24$ & $8$ && $49$ \\
			$4$ & $149$ & $324$ & $226$ & $50$ & $749$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $4$ & $3$ &&& $7$ \\
			$3$ & $34$ & $54$ & $21$ && $109$ \\
			$4$ & $472$ & $1152$ & $924$ & $243$ & $2791$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $5$ & $4$ &&& $9$ \\
			$3$ & $57$ & $96$ & $40$ && $193$ \\
			$4$ & $1089$ & $2808$ & $2396$ & $676$ & $6969$
		\end{tabular}
		\\[2cm]
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $0$ & $1$ &&& $1$ \\
			$3$ & $0$ & $0$ & $1$ && $1$ \\
			$4$ & $0$ & $0$ & $0$ & $1$ & $1$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $1$ & $2$ &&& $3$ \\
			$3$ & $5$ & $12$ & $8$ && $25$ \\
			$4$ & $43$ & $132$ & $138$ & $50$ & $363$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $2$ & $3$ &&& $5$ \\
			$3$ & $16$ & $36$ & $21$ && $73$ \\
			$4$ & $224$ & $684$ & $702$ & $243$ & $1853$
		\end{tabular}
		&
		\begin{tabular}[t]{c|cccc|c}
			$n \backslash k$ & $0$ & $1$ & $2$ & $3$ & $\Sigma$ \\
			\hline
			$1$ & $1$ &&&& $1$ \\
			$2$ & $3$ & $4$ &&& $7$ \\
			$3$ & $33$ & $72$ & $40$ && $145$ \\
			$4$ & $639$ & $1944$ & $1980$ & $676$ & $5239$
		\end{tabular}
		\\[2cm]
		$\ell = 1$ & $\ell = 2$ & $\ell = 3$ & $\ell = 4$
	\end{tabular}
	}
	\vspace{.3cm}
	\caption{The face numbers (top) and the bounded face numbers (bottom) of the $(\ell,n)$-braid arrangements for~$\ell, n \in [4]$.}
	\label{table:fvectorlBraidArrangements}
\end{table}

\vincent{I still have to decide what I do with this big \cref{table:fvectorlBraidArrangements}.} \BDO{Put it in annexe ?}

\begin{definition}
For any integer~$n \geq 1$, the \defn{braid arrangement}~$\braidArrangement$ is the arrangement of the hyperplanes~$\set{\b{x} \in \R^n}{x_i = x_j}$ for all~$1 \le i < j \le n$.
For any integers~$\ell,n \geq 1$, the \defn{$(\ell,n)$-braid arrangement}~$\lBraidArrangement$ is the arrangement obtained as the union of $\ell$ generically translated copies of the braid arrangement.
\end{definition}

\begin{remark}[Combinatorics of the braid arrangement]

\vincent{TODO. Partitions, refinement poset on partitions, M\"obius function given by~$(-1)^{p-1} (p-1)!$.}

\begin{figure}

\centering
\begin{tikzpicture}[scale=0.7]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[part1, very thick]  (A)--(D);
\draw[part2, very thick]  (B)--(E);
\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}
\begin{tikzpicture}
\node (min) at (0,0){};
\node[above=1cm of min] (2) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
%\draw[part1, very thick]  (A)--(D);
\draw[part2, very thick]  (B)--(E);
%\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}
};
\node[left=1cm of 2] (1) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[part1, very thick]  (A)--(D);
%\draw[part2, very thick]  (B)--(E);
%\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=1cm of 2] (3) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
%\draw[part1, very thick]  (A)--(D);
%\draw[part2, very thick]  (B)--(E);
\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\node[above=1cm of 2] (max) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[part1, very thick]  (A)--(D);
\draw[part2, very thick]  (B)--(E);
\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\draw (min)--(1);
\draw (min)--(2);
\draw (min)--(3);
\draw (max)--(1);
\draw (max)--(2);
\draw (max)--(3);
\end{tikzpicture}

\begin{tikzpicture}[very thick, scale=0.7]
\coordinate (C) at (180:1);
\coordinate (D) at (90:1);
\coordinate (E) at (-90:1);
\coordinate (F) at (0:1);
\coordinate (A) at ($2*(C)+(D)$); % bleu-orange
\coordinate (Ag1) at ($(A)+(C)+(D)$);
\coordinate (Ag2) at ($(A)+(C)$);
\coordinate (B) at ($2*(C)+(E)$); % teal-rouge
\coordinate (Bg1) at ($(C)+(B)$);
\coordinate (Bg2) at ($(C)+(B)+(E)$);
\coordinate (G) at ($2*(F)+(D)$);
\coordinate (Gg1) at ($(G)+(F)$);
\coordinate (Gg2) at ($(G)+(F)+(D)$);
\coordinate (H) at ($2*(F)+(E)$);
\coordinate (Hg1) at ($(H)+(F)+(E)$);
\coordinate (Hg2) at ($(H)+(F)$);
\coordinate (F1) at ($3*(E)+2*(C)$);
\coordinate (F2) at ($3*(E)+2*(F)$);
\coordinate (F3) at ($3*(D)+2*(C)$);
\coordinate (F4) at ($3*(D)+2*(F)$);
\coordinate (midb) at ($(C)+(F)+(D)$);
\draw[blue]  (Ag2)--(Gg1);
\draw[red]  (Bg1)--(Hg2);
\draw[teal]  (Bg2)--(F4);
\draw[magenta]  (F1)--(Gg2);
\draw[orange]  (Ag1)--(F2);
\draw[green]  (F3)--(Hg1);
\end{tikzpicture}
\resizebox{8cm}{!}{
\begin{tikzpicture}
\node (min) at (0,0){};
\node[above left=1cm of min.north] (3) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
%\draw[blue, very thick]  (A)--(D);
\draw[teal, very thick]  (B)--(E);
%\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\node[above right=1cm of min.north] (4) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[white, very thick]  (B)--(E);
\draw[white, very thick]  (C)--(F);
\draw[red, very thick]  (A)--(D);
\end{tikzpicture}};
\node[left=0.5cm of 3] (2) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[white, very thick]  (A)--(D);
\draw[white, very thick]  (B)--(E);
\draw[green, very thick]  (C)--(F);
\end{tikzpicture}};
\node[left=0.5cm of 2] (1) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[white, very thick]  (B)--(E);
\draw[white, very thick]  (C)--(F);
\draw[blue, very thick]  (A)--(D);
\end{tikzpicture}};
\node[right=0.5cm of 4] (5) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[white, very thick]  (A)--(D);
\draw[white, very thick]  (B)--(E);
\draw[orange, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 5] (6) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[white, very thick]  (A)--(D);
\draw[white, very thick]  (C)--(F);
\draw[magenta, very thick]  (B)--(E);
\end{tikzpicture}};
\node[above=2cm of 1] (15) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[blue, very thick]  (A)--(D);
%\draw[part2, very thick]  (B)--(E);
\draw[orange, very thick]  (C)--(F);
\end{tikzpicture}};
\node[left=0.5cm of 15] (123) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[blue, very thick]  (A)--(D);
\draw[teal, very thick]  (B)--(E);
\draw[green, very thick]  (C)--(F);
\end{tikzpicture}
};
\node[right=0.5cm of 15] (26) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
%\draw[blue, very thick]  (A)--(D);
\draw[magenta, very thick]  (B)--(E);
\draw[green, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 26] (34) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[red, very thick]  (A)--(D);
\draw[teal, very thick]  (B)--(E);
%\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 34] (24) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[red, very thick]  (A)--(D);
%\draw[part2, very thick]  (B)--(E);
\draw[green, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 24] (35) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
%\draw[blue, very thick]  (A)--(D);
\draw[teal, very thick]  (B)--(E);
\draw[orange, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 35] (16) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[blue, very thick]  (A)--(D);
\draw[magenta, very thick]  (B)--(E);
%\draw[part4, very thick]  (C)--(F);
\end{tikzpicture}};
\node[right=0.5cm of 16] (456) {
\begin{tikzpicture}[scale=0.3]
\coordinate (A) at (0:2);
\coordinate (B) at (60:2);
\coordinate (C) at (120:2);
\coordinate (D) at (180:2);
\coordinate (E) at (240:2);
\coordinate (F) at (300:2);
\draw[red, very thick]  (A)--(D);
\draw[magenta, very thick]  (B)--(E);
\draw[orange, very thick]  (C)--(F);
\end{tikzpicture}};
\draw (min)--(1);
\draw (min)--(2);
\draw (min)--(3);
\draw (min)--(4);
\draw (min)--(5);
\draw (min)--(6);
\draw (123.south)--(1.north);
\draw (123.south)--(2.north);
\draw (123.south)--(3.north);
\draw (456.south)--(4.north);
\draw (456.south)--(5.north);
\draw (456.south)--(6.north);
\draw (2.north)--(26.south)--(6.north);
\draw (2.north)--(24.south)--(4.north);
\draw (1.north)--(15.south)--(5.north);
\draw (1.north)--(16.south)--(6.north);
\draw (3.north)--(34.south)--(4.north);
\draw (3.north)--(35.south)--(5.north);
\end{tikzpicture}}
\resizebox{0.8\textwidth}{!}{
\begin{tikzpicture}
\node (min) at (0,0){
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, right=5pt of 1p](3p){2};
\node[draw, circle, right=5pt of 3p](2p){3};
\end{tikzpicture}};
\node[above left=1cm of min.north] (3) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){2};
\node[draw, circle, above=5pt of 1p](3p){3};
\node[draw, circle, right=5pt of 1p](2p){1};
\draw[very thick, blue] (1p)--(3p);
\end{tikzpicture}};
\node[above right=1cm of min.north] (4) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p](3p){3};
\node[draw, circle, right=5pt of 1p](2p){2};
\draw[very thick, red] (1p)--(3p);
\end{tikzpicture}};
\node[left=0.5cm of 3] (2) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p](3p){2};
\node[draw, circle, right=5pt of 1p](2p){3};
\draw[very thick, blue] (1p)--(3p);
\end{tikzpicture}};
\node[left=0.5cm of 2] (1) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p](3p){3};
\node[draw, circle, right=5pt of 1p](2p){2};
\draw[very thick, blue] (1p)--(3p);
\end{tikzpicture}};
\node[right=0.5cm of 4] (5) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p](3p){2};
\node[draw, circle, right=5pt of 1p](2p){3};
\draw[very thick, red] (1p)--(3p);
\end{tikzpicture}};
\node[right=0.5cm of 5] (6) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){2};
\node[draw, circle, above=5pt of 1p](3p){3};
\node[draw, circle, right=5pt of 1p](2p){1};
\draw[very thick, red] (1p)--(3p);
\end{tikzpicture}};
\node[above=2cm of 1] (15) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above left=5pt of 1p.north](2p){2};
\node[draw, circle, above right=5pt of 1p.north](3p){3};
\draw[very thick, blue] (1p)--(3p);
\draw[very thick, red] (1p)--(2p);
\end{tikzpicture}};
\node[left=0.5cm of 15] (123) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above left=5pt of 1p.north](2p){2};
\node[draw, circle, above right=5pt of 1p.north](3p){3};
\draw[very thick, blue] (1p)--(3p);
\draw[very thick, blue] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 15] (26) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p.north](2p){2};
\node[draw, circle, above=5pt of 2p.north](3p){3};
\draw[very thick, red] (2p)--(3p);
\draw[very thick, blue] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 26] (34) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p.north](2p){3};
\node[draw, circle, above=5pt of 2p.north](3p){2};
\draw[very thick, blue] (2p)--(3p);
\draw[very thick, red] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 34] (24) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above left=5pt of 1p.north](2p){2};
\node[draw, circle, above right=5pt of 1p.north](3p){3};
\draw[very thick, red] (1p)--(3p);
\draw[very thick, blue] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 24] (35) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p.north](2p){2};
\node[draw, circle, above=5pt of 2p.north](3p){3};
\draw[very thick, blue] (2p)--(3p);
\draw[very thick, red] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 35] (16) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above=5pt of 1p.north](2p){3};
\node[draw, circle, above=5pt of 2p.north](3p){2};
\draw[very thick, red] (2p)--(3p);
\draw[very thick, blue] (1p)--(2p);
\end{tikzpicture}};
\node[right=0.5cm of 16] (456) {
\begin{tikzpicture}[scale=0.3, inner sep=1pt]
\node[draw, circle] (1p){1};
\node[draw, circle, above left=5pt of 1p.north](2p){2};
\node[draw, circle, above right=5pt of 1p.north](3p){3};
\draw[very thick, red] (1p)--(3p);
\draw[very thick, red] (1p)--(2p);
\end{tikzpicture}};
\draw (min)--(1);
\draw (min)--(2);
\draw (min)--(3);
\draw (min)--(4);
\draw (min)--(5);
\draw (min)--(6);
\draw (123.south)--(1.north);
\draw (123.south)--(2.north);
\draw (123.south)--(3.north);
\draw (456.south)--(4.north);
\draw (456.south)--(5.north);
\draw (456.south)--(6.north);
\draw (2.north)--(26.south)--(6.north);
\draw (2.north)--(24.south)--(4.north);
\draw (1.north)--(15.south)--(5.north);
\draw (1.north)--(16.south)--(6.north);
\draw (3.north)--(34.south)--(4.north);
\draw (3.north)--(35.south)--(5.north);
\end{tikzpicture}}
\caption{Above : The braid arrangement $\braidArrangement[3]$ and its associated intersection poset. Middle : The braid arrangement $\lBraidArrangement[3][2]$ and its associated intersection poset. Below : The intersection poset of $\lBraidArrangement[3][2]$ in terms of forests. \BDO{I put the tikz-code in the latex : do I need to compile it separately ?}}
\end{figure}
\end{remark}

\begin{definition}
The \defn{intersection hypergraph}~$I(F_1, \dots, F_\ell)$ of a $\ell$-tuple of partitions of~$[n]$ is the $\ell$-regular $\ell$-partite hypergraph on all parts of all the partitions~$F_i$, with an hyperedge for all~$i \in [n]$ connecting the parts containing~$i$.
A \defn{$(\ell,n)$-forest} (resp.~\defn{$(\ell,n)$-tree}) is a $\ell$-tuple~$\b{F} \eqdef (F_1, \dots, F_\ell)$ of partitions of~$[n]$ whose intersection hypergraph is a hyperforest (resp.~hypertree).
See \cref{fig:forests}.
The \defn{$(\ell,n)$-forest poset} is the poset~$\forestPoset$ on $(\ell,n)$-forests ordered by componentwise refinement.
In other words, $\forestPoset$ is the subposet of the $\ell$th Cartesian power of the partition poset induced by $(\ell,n)$-forests.
Note that the maximal elements of~$\forestPoset$ are the $(\ell, n)$-trees.
%
\begin{figure}
	\centerline{\includegraphics[scale=1]{forests}}
	\caption{A $(3,6)$-forest with its intersection hypergraph (left) and a $(3,6)$-tree with its intersection hypertree (right).}
	\label{fig:forests}
\end{figure}
\end{definition}

\begin{theorem}
\label{thm:MobiusPolynomial}
The M\"obius polynomial of the $(\ell,n)$-braid arrangement~$\lBraidArrangement$ is given by
\[
\mobPol[\lBraidArrangement] = \sum_{\b{F} \le \b{G}} \prod_{i \in [\ell]} x^{\#F_i-1} y^{\#G_i-1} \prod_{p \in G_i} (-1)^{\#F_i[p]-1} (\# F_i[p]-1)! \; ,
\]
where~$\b{F} \le \b{G}$ ranges over all intervals of the $(\ell,n)$-forest poset~$\forestPoset$, and~$F_i[p]$ denotes the restriction of the partition~$F_i$ to the part~$p$ of~$G_i$.
\end{theorem}

\begin{proof}
Observe that for~$\b{F} = (F_1, \dots, F_\ell)$ and~$\b{G} = (G_1, \dots, G_\ell)$ in~$\forestPoset$, we have
\[
[\b{F}, \b{G}] = \prod_{i \in [\ell]} [F_i, G_i] \simeq \prod_{i \in [\ell]} \prod_{p \in G_i} \partitionPoset[{\#F_i[p]}].
\]
As the M\"obius function is multiplicative, that is,
\(
\mu_{P \times Q} \big( (p,q), (p’,q’) \big) = \mu_P(p,p’) \cdot \mu_Q(q,q’),
\)
we obtain that
\[
\mu_{\forestPoset}(\b{F}, \b{G}) = \prod_{i \in [\ell]} \prod_{p \in G_i} (-1)^{\#F_i[p]-1} (\# F_i[p]-1)!
\]
Hence
\begin{align*}
\mobPol[\lBraidArrangement] 
& = \sum_{\b{F} \le \b{G}} \mu_{\forestPoset}(\b{F}, \b{G}) \, x^{\dim(\b{F})} \, y^{\dim(\b{G})} \\
% & = \sum_{\b{F} \le \b{G}} \prod_{i \in [\ell]} x^{\#F_i-1} y^{\#G_i-1} \\
& = \sum_{\b{F} \le \b{G}} \prod_{i \in [\ell]} x^{\#F_i-1} y^{\#G_i-1} \prod_{p \in G_i} (-1)^{\#F_i[p]-1} (\# F_i[p]-1)!.
\qedhere
\end{align*}
\end{proof}

We thus obtain the following statament from \cref{thm:MobiusPolynomial,thm:Zaslavsky}.

\begin{corollary}
\label{coro:fbvectorslBraidArrangement}
The $f$- and $b$-polynomials of the $(\ell,n)$-braid arrangement~$\lBraidArrangement$ are given by
\begin{align*}
\fPol[\lBraidArrangement] & = \sum_{\b{F} \le \b{G}} \prod_{i \in [\ell]} x^{\#F_i-1} \prod_{p \in G_i} (\# F_i[p]-1)!\\
\text{and}\qquad
\bPol[\lBraidArrangement] & = (-1)^\ell \sum_{\b{F} \le \b{G}} \prod_{i \in [\ell]} x^{\#F_i-1} \prod_{p \in G_i} -(\# F_i[p]-1)!
\end{align*}
\end{corollary}

The face numbers and bounded face numbers of~$\lBraidArrangement$ for~$\ell, n \in [4]$ are gathered in \cref{table:fvectorlBraidArrangements}.

\begin{example}
For~$n = 1$, we have
\[
\mobPol[{\lBraidArrangement[1][\ell]}] = \fPol[{\lBraidArrangement[1][\ell]}] = \bPol[{\lBraidArrangement[1][\ell]}] = 1.
\]
For~$n = 2$, we have
\[
\mobPol[{\lBraidArrangement[2][\ell]}] = xy-\ell x+\ell,
\quad
\fPol[{\lBraidArrangement[2][\ell]}] = (\ell+1)x+\ell
\quad\text{and}\quad
\bPol[{\lBraidArrangement[2][\ell]}] = (\ell-1)x+\ell.
\]
The case~$n = 3$ is already more interesting.
Consider the partitions~$P \eqdef \big\{ \{1\}, \{2\}, \{3\} \big\}$, $Q_i \eqdef \big\{ \{i\}, [3] \ssm \{i\} \big\}$, and~$R \eqdef \big\{ [3] \big\}$.
Observe that the $(\ell,3)$-forests are all of the form
\begin{gather*}
\b{F} \eqdef P^\ell,
\quad
\b{G}_i^p \eqdef P^p Q_i P^{\ell-p-1}, % \text{ for } p \le \ell-1 \text{ and } i \in [3],
\quad
\b{H}_{i,j}^{p,q} \eqdef P^p Q_i P^{\ell-p-q-2} Q_j P^q \;\text{($i \ne j$)} % \text{ for } p + q \le \ell-2 \text{ and } i \ne j \in [3]
\quad\text{or}\quad
\b{K}^p \eqdef P^p R P^{\ell-p-1}. % \text{ for } p \le \ell-1.
\end{gather*}
(where we write a tuple of partitions of~$[3]$ as a word on~$\{P, Q_i, R\}$, and $p$ and $q$ are such that the total length is~$\ell$).
%\begin{gather*}
%\b{F} \eqdef (\underbrace{P, \dots, P}_\ell), \\
%\b{G}_i^p \eqdef (\underbrace{P, \dots, P}_p, Q_i, \underbrace{P, \dots, P}_{\ell-p-1}) \text{ for } p \le \ell-1 \text{ and } i \in [3],
%\\
%\b{H}_{i,j}^{p,q} \eqdef (\underbrace{P, \dots, P}_p, Q_i, \underbrace{P, \dots, P}_{\ell-p-q-2}, Q_j, \underbrace{P, \dots, P}_q) \text{ for } p + q \le \ell-2 \text{ and } i \ne j \in [3],
%\\
%\text{or}\quad
%\b{K}^p \eqdef (\underbrace{P, \dots, P}_p, R, \underbrace{P, \dots, P}_{\ell-p-1}) \text{ for } p \le \ell-1.
%\end{gather*}
Moreover, the cover relations in the $(\ell,3)$-forest poset are precisely the relations
\[
\b{F} \le \b{G}_i^p \begin{array}{c@{\hspace{-.3cm}}c@{\hspace{-.3cm}}c} & \b{H}_{i,j}^{p,q} & \\ \rotatebox[origin=c]{45}{$\le$} & & \rotatebox[origin=c]{-45}{$\le$} \\[.3cm] \rotatebox[origin=c]{-45}{$\le$} & & \rotatebox[origin=c]{45}{$\le$} \\ & \b{H}_{j,i}^{\ell-q-1, \ell-p-1} & \end{array} \b{K}^p
\]
for~$i \ne j$ and~$p, q$ such that~$p + q \le \ell-2$.
Hence, we have
\begin{align*}
\mobPol[{\lBraidArrangement[3][\ell]}] & = x^2 y^2 - 3 \ell x^2 y + \ell (3 \ell - 1) x^2 + 3 \ell x y - 3 \ell (2 \ell - 1) x + \ell (3 \ell - 2) , \\
\fPol[{\lBraidArrangement[3][\ell]}] & = (3 \ell^2 + 2 \ell + 1) x^2 + 6 \ell^2 x + \ell (3 \ell - 2), \\
\text{and}\qquad
\bPol[{\lBraidArrangement[3][\ell]}] & = (3 \ell^2 - 4 \ell + 1) x^2 + 6 \ell (\ell - 1) x + \ell (3 \ell - 2).
\end{align*}
Note that~$3 \ell^2 + 2 \ell + 1$ is~\OEIS{A056109}, that~$\ell (3 \ell - 2)$ is~\OEIS{A000567}, and that~$3 \ell^2 - 4 \ell + 1$ is~\OEIS{A045944}.
\vincent{There is a weird connection between the first and the last. Namely, $3 \ell^2 - 4 \ell + 1 = 3 (\ell - 1)^2 + 2 (\ell - 1)$. Is there a bijective explanation on the arrangements?}
\end{example}

\begin{theorem}
\label{thm:verticeslnBraidArrangement}
The number of vertices of the $(\ell,n)$-braid arrangement~$\lBraidArrangement$ (or equivalently of $(\ell,n)$-trees) is
\[
f_0(\lBraidArrangement) = \ell \big( (\ell-1) n + 1)^{n-2}.
\]
\end{theorem}

\begin{proof}
We adapt the proof from \cite{CKSS04}. By rooting in the part of colour $1$ containing $1$, the number of vertices of the $(\ell,n)$-braid arrangement~$\lBraidArrangement$ is the same as the number of Cayley trees rooted in $1$ with an edge-coloring by $\{1, \ldots, \ell\}$ satisfying that the colour of an edge from a child is different from the colour of the edge between the parent and the child. A common reasoning for counting Cayley trees is the use of its Prüfer code defined by recursively pruning the smallest leaf and writing down the number of its parent. This bijection can be adapted to edge-coloured Cayley trees by writing down the number of the parent and the colour of the edge linking the leaf to its parent. We get a coloured word of length $n-1$. Their are two possibilities:
\begin{itemize}
\item either the node we are removing is attached to the root labelled by $1$ and there are $\ell$ possible different colours for the edge ($\ell$)
\item or it is attached to one of the $n-1$ other nodes and the edge can have $\ell-1$ different colours. ($(n-1)(\ell-1)$)
\end{itemize}
 Note that the last letter in the Prüfer code (obtained by removing the last edge) is necessarily the root $1$, with $\ell$ possible different colours.
 There are $(\ell+(n-1)(\ell-1))^{n-2} \times \ell$ such words, hence the result.
\end{proof}

\begin{theorem}
\label{thm:verticesRefinedlnBraidArrangement}
For any~$\b{k} \eqdef (k_1, \dots, k_\ell)$ such that~$0 \le k_i \le n-1$ for all~$i \in [\ell]$ and~$\sum_{i=1}^\ell k_i = n-1$, the number of vertices~$v$ of the $(\ell,n)$-braid arrangement~$\lBraidArrangement$ such that the smallest flat of the $i$th copy of~$\braidArrangement$ containing~$v$ has dimension~$k_i$ is given by
\[
f_{\b{k}}(\lBraidArrangement) = n^{\ell-1}  \binom{n-1}{k_1, ..., k_l} \prod_{i=1}^\ell (n-k_i)^{k_i-1}.
\]
\BDO{Warning : $k_i$ is the number of edges of colours i in the tree ! It has to be adapted to the dimension.}
\vincent{I hope I made it right.}
\end{theorem}

\begin{proof}
\BDO{TODO}
\end{proof}

\vincent{TODO: Check whether we can say something on the facets as well. I guess not, but I want to be sure.}

\vincent{TODO: Discuss generalizations to $\ell$ copies of an arbitrary arrangement, or a graphical arrangement.}

\subsection{Enumerative results for any diagonal} 
\label{s:facets}

We now specialize the results of the previous section to the case~$\ell = 2$ to derive enumerative results on the diagonal of the permutahedron.

Note that
\begin{align*}
\mobPol[{\lBraidArrangement[1][2]}] & = 1 \\
\mobPol[{\lBraidArrangement[2][2]}] & = x y - 2 x + 2 \\
\mobPol[{\lBraidArrangement[3][2]}] & = x^2 y^2 - 6 x^2 y + 10 x^2 + 6 x y - 18 x + 8 \\
\mobPol[{\lBraidArrangement[4][2]}] & = x^3 y^3 - 12 x^3 y^2 + 52 x^3 y - 84 x^3 + 12 x^2 y^2 - 96 x^2 y + 216 x^2 + 44 x y - 182 x + 50 \\
\mobPol[{\lBraidArrangement[5][2]}] & = x^4 y^4 - 20 x^4 y^3 + 160 x^4 y^2 - 620 x^4 y + 1008 x^4 + 20 x^3 y^3 - 300 x^3 y^2 + 1640 x^3 y - 3360 x^3 \\ & \quad+ 140 x^2 y^2 - 1430 x^2 y + 4130 x^2 + 410 x y - 2210 x + 432
\end{align*}
which can be seen on matrices as
\[
\left(\begin{array}{r}
1
\end{array}\right)
\left(\begin{array}{rr}
2 & -2 \\
0 & 1
\end{array}\right)
\left(\begin{array}{rrr}
8 & -18 & 10 \\
0 & 6 & -6 \\
0 & 0 & 1
\end{array}\right)
\left(\begin{array}{rrrr}
50 & -182 & 216 & -84 \\
0 & 44 & -96 & 52 \\
0 & 0 & 12 & -12 \\
0 & 0 & 0 & 1
\end{array}\right)
\left(\begin{array}{rrrrr}
432 & -2210 & 4130 & -3360 & 1008 \\
0 & 410 & -1430 & 1640 & -620 \\
0 & 0 & 140 & -300 & 160 \\
0 & 0 & 0 & 20 & -20 \\
0 & 0 & 0 & 0 & 1
\end{array}\right)
%\left(\begin{array}{r}
%1
%\end{array}\right)
%\left(\begin{array}{rr}
%2 & 0 \\
%-2 & 1
%\end{array}\right)
%\left(\begin{array}{rrr}
%8 & 0 & 0 \\
%-18 & 6 & 0 \\
%10 & -6 & 1
%\end{array}\right)
%\left(\begin{array}{rrrr}
%50 & 0 & 0 & 0 \\
%-182 & 44 & 0 & 0 \\
%216 & -96 & 12 & 0 \\
%-84 & 52 & -12 & 1
%\end{array}\right)
%\left(\begin{array}{rrrrr}
%432 & 0 & 0 & 0 & 0 \\
%-2210 & 410 & 0 & 0 & 0 \\
%4130 & -1430 & 140 & 0 & 0 \\
%-3360 & 1640 & -300 & 20 & 0 \\
%1008 & -620 & 160 & -20 & 1
%\end{array}\right)
%\left(\begin{array}{rrrrrr}
%4802 & 0 & 0 & 0 & 0 & 0 \\
%-31922 & 4732 & 0 & 0 & 0 & 0 \\
%82560 & -23100 & 1830 & 0 & 0 & 0 \\
%-104400 & 41560 & -6210 & 340 & 0 & 0 \\
%64800 & -32760 & 6960 & -720 & 30 & 0 \\
%-15840 & 9568 & -2580 & 380 & -30 & 1
%\end{array}\right)
\]

\begin{theorem}
\label{thm:vertices2nBraidArrangement}
There are bijections between
\begin{itemize}
\item the vertices of the $(2,n)$-braid arrangement~$\lBraidArrangement[n][2]$,
\item the $(2,n)$-trees (\ie pairs of partitions whose intersection graph is a tree),
\item the spanning trees of the complete graph~$K_{n+1}$ on~$\{0, \dots, n\}$ containing the edge~$(0,1)$.
\end{itemize}
These sets are counted by
\[
f_0(\lBraidArrangement[n][2]) = 2 (n + 1)^{n-2}.
\]
\end{theorem}

\begin{proof}
Note that the formula follows from \cref{thm:verticeslnBraidArrangement}.
We give an alternative simple proof.
The first two sets are in bijection by \cref{coro:fbvectorslBraidArrangement}.
Consider now a $(2,n)$-tree~$\b{F} \eqdef (F_1,F_2)$ (hence~$\# F_1 + \# F_2 = n + 1$).
Consider the intersection tree~$T$ of~$\b{F}$ with vertices labeled by the parts of~$F_1$ and of~$F_2$ and edges labeled by~$[n]$, root~$T$ at the part of~$F_1$ containing vertex~$1$, forget the vertex labels of~$T$, and send each edge label of~$T$ to the next vertex away from the root, and label the root by~$0$.
See \cref{fig:tree}.
The result is a spanning tree of the complete graph~$K_{n+1}$ on~$\{0, \dots, n\}$ which must contain the edge~$(0,1)$ (because we have chosen the root to be the part of~$F_1$ containing~$1$).
%
\begin{figure}
	\centerline{\includegraphics[scale=1]{tree}}
	\caption{The bijection from rooted $(\ell,n)$-trees (left) to spanning trees of~$K_{n+1}$ containing the edge~$(0,1)$ (right).}
	\label{fig:tree}
\end{figure}
%
Finally, by double counting the pairs~$(T,e)$ where $T$ is a spanning tree of~$K_{n+1}$ and $e$ is an edge of~$T$, we see that $n$ times the number of spanning trees of~$K_{n+1}$ equals $\binom{n+1}{2}$ times the number of spanning trees of~$K_{n+1}$ containing~$(0,1)$.
Hence, by Cayley's formula for spanning trees of~$K_{n+1}$, we obtain that
\[
f_0(\lBraidArrangement[n][2]) = \frac{2n}{n(n+1)} (n+1)^{n-1} = 2 (n + 1)^{n-2}.
\qedhere
\]
\end{proof}

\begin{theorem}
\label{thm:verticesRefined2BraidArrangement}
For any~$0 \le k_1, k_2 \le n-1$ with~$k_1 + k_2 = n-1$, the number of vertices~$v$ of the $(2,n)$-braid arrangement~$\lBraidArrangement[n][2]$ obtained as the intersection of a $k_1$-flat of the first copy of the braid arrangement with a $k_2$-flat of the second copy of the braid arrangement is
\[
f_{k_1, k_2}(\lBraidArrangement[n][2]) = n \binom{n-1}{k_1} (n-k_1)^{k_1-1} (n-k_2)^{k_2-1}.
\]
\end{theorem}

\begin{proof}
Note that the formula follows from \cref{thm:verticesRefinedlnBraidArrangement}.
We give an alternative simple proof.
By \cref{coro:fbvectorslBraidArrangement}, we want to count the number of $(2,n)$-trees~$\b{F} \eqdef (F_1,F_2)$ where~$F_1$ has $k_1+1$ parts while $F_2$ has $k_2+1$ parts.
Consider the intersection tree~$T$ of~$\b{F}$ with vertices labeled by the parts of~$F_1$ and of~$F_2$ and edges labeled by~$[n]$, root~$T$ at an arbitrary part of~$F_1$, forget the vertex labels of~$T$, and send each edge label of~$T$ to the next vertex away from the root.
See \cref{fig:tree}.
Note here that in contrast to the proof of \cref{thm:vertices2nBraidArrangement}, we have rooted~$T$ here at an arbitrary part of~$F_1$ to have more symmetry.
The result is a spanning tree of the complete bipartite graph~$K_{k_1+1, k_2+1}$ together with a choice of which of the labels are on each part of this graph.
Since the number of spanning trees of~$K_{k_1+1, k_2+1}$ is known to be~$(k_1+1)^{k_2} (k_2+1)^{k_1}$, we obtain that
\[
f_{k_1, k_2}(\lBraidArrangement[n][2]) = \underbrace{\frac{1}{k_1+1}  \phantom{\!\!\!\!\bigg)}}_{\text{root}} \underbrace{\binom{n}{k_1}}_{\text{labels}} \underbrace{(k_1+1)^{k_2} (k_2+1)^{k_1} \phantom{\!\!\!\!\bigg)}}_{\# \text{ spanning trees }} = n \binom{n-1}{k_1} (n-k_1)^{k_1-1} (n-k_2)^{k_2-1}.
\qedhere
\]
\end{proof}

\vincent{Do we want to mention here the refinement counting spanning trees of~$K_{n+1}$ containing~$(0,1)$ according to their number of nodes at even distance from the root?}

\begin{theorem}
\label{thm:facets2BraidArrangement}
The coefficient of~$x^{n-1}$ in the M\"obius polynomial~$\mobPol[{\lBraidArrangement[n][2]}]$ of the $(2,n)$-braid arrangement~$\lBraidArrangement[n][2]$ is given by
\[
[x^{n-1}] \, \mobPol[{\lBraidArrangement[n][2]}] = \frac{(-1)^n n!}{y} \, [z^n] \, \exp \bigg( \sum_{m \ge 1} \frac{- C_m \, y \, z^m}{m} \bigg).
\]
where~$\displaystyle C_m \eqdef \frac{1}{m+1} \binom{2m}{m}$ denotes the $m$th Catalan number.
\end{theorem}

\begin{proof}
We prove that the exponential generating function of the coefficient of~$x^{n-1}$ in the M\"obius polynomial~$\mobPol[{\lBraidArrangement[n][2]}]$ is given by
\[
1 + \sum_{n \ge 1} \frac{[x^{n-1}] \, \mobPol[{\lBraidArrangement[n][2]}] \, y \, z^n}{(n+1)!} = \exp \bigg( \sum_{m \ge 1} \frac{(-1)^{m-1} C_m \, y \, z^m}{m} \bigg).
\]
\vincent{TODO. The proof from my email is in the comments.}
%Consider a forest of cliques F. Each connected component K is a tree of cliques. Consider the labeled intersection tree of this tree of cliques (whose nodes are the cliques and whose edges are the intersections of cliques, labeled by unique element in the intersection). As the clique corresponding to each node of this intersection tree is just formed by the labels of the edges incident to it, we can forget the cliques inside the nodes and just remember the labels on the edges. Now root K on the node corresponding to the clique of F_0 containing the smallest element of K, orient all edges towards this root, order the incoming edges at each node by their labels. You get a rooted planar tree, with some labels on the edges. Consequently, I can see a forest of cliques with c connected as a set of c rooted planar trees whose edges are labeled by [n] (each label appears only once, in only one of the trees), and such that
%	(a) the labels of the edges incoming to a node are well ordered (ie. increasing from the left node to the right node),
%	(b) in each tree, the edge with the smallest label is incident to the root.
%Conversely, I can start from a set of c rooted planar trees, I can label the edges by choosing a permutation of [n], except that 
%	(a) at each node of each of my rooted planar trees, I should divide by the factorial of the incoming degree of my node… this is the (|p|-1)!
%	(b) in each rooted planar tree T, I should divide by the number of edges of my tree to replace the smallest label on an edge incident to the root… this is the /n.
\end{proof}

\begin{corollary}
The numbers of regions and of bounded regions of the $(2,n)$-braid arrangement~$\lBraidArrangement[n][2]$ are given by
\begin{align*}
f_{n-1}(\lBraidArrangement[n][2]) 
& = n! \, [z^n] \exp \bigg( \sum_{m \ge 1} \frac{C_m \, z^m}{m} \bigg) \\
\text{and}\qquad
b_{n-1}(\lBraidArrangement[n][2]) 
% & = - (n+1)! \, [z^{n+1}] \exp \left( - \sum_{m \ge 1} \frac{z^m}{m(m+1)} \binom{2m}{m} \right) 
& = (n-1)! \, [z^{n-1}] \exp \bigg( \sum_{m \ge 1} C_m \, z^m \bigg).
\end{align*}
The corresponding integer sequences are
\begin{align*}
1, 3, 17, 149, 1809, 28399, 550297, 12732873, \dots & \qquad \text{\OEIS{A213507}}, \\
\text{and}\qquad
1, 1, 5, 43, 529, 8501, 169021, 4010455, 110676833, \dots & \qquad \text{\OEIS{A251568}}.
\end{align*}
\vincent{TODO: improve presentation}
\end{corollary}

\begin{proof}
As $\fPol[{\lBraidArrangement[n][2]}] = \mobPol[{\lBraidArrangement[n][2]}][-x][-1]$ and $\bPol[{\lBraidArrangement[n][2]}] = \mobPol[{\lBraidArrangement[n][2]}][-x][1]$ by \cref{thm:Zaslavsky}, we obtain from \cref{thm:facets2BraidArrangement} that
\begin{align*}
f_{n-1}(\lBraidArrangement[n][2]) & = [x^{n-1}] \, \fPol[{\lBraidArrangement[n][2]}] = (-1)^{n-1} \, [x^{n-1}] \, \mobPol[{\lBraidArrangement[n][2]}][-x][-1] = n! \, [z^n]  \, \exp \bigg( \sum_{m \ge 1} \frac{C_m \, z^m}{m} \bigg), \\
% \text{and}\qquad
b_{n-1}(\lBraidArrangement[n][2]) & = [x^{n-1}] \, \bPol[{\lBraidArrangement[n][2]}] = (-1)^{n-1} \, [x^{n-1}] \, \mobPol[{\lBraidArrangement[n][2]}][-x][1] = - n! \, [z^n]  \, \exp \bigg( \sum_{m \ge 1} \frac{- C_m \, z^m}{m} \bigg).
\end{align*}
To conclude, we thus just need to observe that
\(
F(z) = \frac{\partial}{\partial z} G(z)
\)
where
\[
F(z) \eqdef \exp \bigg( \sum_{m \ge 1} C_m \, z^m \bigg)
\qquad\text{and}\qquad
G(z) \eqdef - \exp \bigg( \sum_{m \ge 1} \frac{- C_m \, z^m}{m} \bigg).
\]
For this, consider the generating functions
\[
C(z) \eqdef \sum_{m \ge 0} C_m \, z^m
\qquad\text{and}\qquad
D(z) \eqdef \sum_{m \ge 1} \frac{C_m \, z^m}{m}.
\]
Recall that~$C(z)$ satisfies the functional equation~$C(z) = 1 + z \, C(z)^2$.
We thus obtain that~$C'(z) \big( 1 - 2 \, z \, C(z) \big) = C(z)^2$ and $C(z) \big( 1 - 2 \, z \, C(z) \big) = 2 - C(z)$.
Combining these two equations, we get
\begin{equation}
\label{eq:diff}
C(z)^3 = C'(z) \big( 1 - C(z) \big).
\end{equation}
Observe now that $z \, D'(z) = C(z) - 1 = z \, C(z)^2$, so that~$D''(z) = 2 \, C(z) \, C'(z)$.
Hence
\[
F(z) = \exp \big( C(z) - 1 \big) = \exp \big( z \, D’(z) \big)
\]
and
\[
\frac{\partial}{\partial z} G(z) = \frac{\partial}{\partial z}  - \exp \big( -D(z) \big) = D'(z) \exp \big( -D(z) \big)
\]
Consider the function
\[
H(z) = G'(z) / F(z) = D'(z) \exp \big( -D(z) - z \, D'(z) \big).
\]
Clearly, $H(0) = 1$ and its derivative is
\begin{align*}
H'(z)
& = \Big( D''(z) \big(1 - z \, D'(z) \big) - 2 D'(z)^2 \Big) \exp \big( -D(z) - z \, D'(z) \big) \\
& = 2 \, C(z) \Big( C'(z) \big( 2 - C(z) \big) - C(z)^3 \Big) \exp \big( - D(z) - z \, D'(z) \big),
\end{align*}
which vanishes by~\eqref{eq:diff}.

\vincent{Can we make a bijective proof of the equality $F(z) = \frac{\partial}{\partial z} G(z)$?}
\end{proof}

